<script src="processing.js" type="text/javascript"></script>
<script type="text/processing" data-processing-target="processing-canvas"> 

/* @pjs font="Littledays.ttf"; */



StartScreen start;
SingerScreen singers;
OrchestraScreen orchestra;

int screenInt;



void setup() {  
  size(1024,768); 
  this.screenInt = 1;
  this.start = new StartScreen(screenInt);
	this.singers = new SingerScreen(screenInt);
	this.orchestra = new OrchestraScreen(screenInt);

  
}
  
void draw() {
  if (this.screenInt == 1){ 
    this.start.draw();
  } else if (this.screenInt == 2){
    this.singers.draw();
  } else if (this.screenInt == 3) {
    this.orchestra.draw();
  }
}

void mouseClicked() { 
  if (this.screenInt == 1) {
    //siirtymät aloitusnäytöltä muihin näyttöihin
    if (mouseX>width/4 && mouseX<(width/4)*3 && mouseY>height/4 && mouseY<(height/4)*3){
      //SingerScreeniin
      this.screenInt = 2;
    } else if (mouseX>(width/8)*3 && mouseX<(width/8)*5 
      && mouseY>((height/4)*3.1)-height/12 && mouseY<(height/4)*3.1+height/12) {
        //OrchestraScreeniin
        this.screenInt = 3;
    }
  } else if (this.screenInt == 2) {
  	if (mouseX>width*0.05-width*0.025 && mouseX<width*0.05+width*0.025 
      && mouseY>width*0.06-width*0.035 && mouseY<width*0.06+width*0.035) {
      if (this.singers.activeSinger != null) {
        this.singers.activeSinger = null; //suljetaan infoboksi
      }
      this.screenInt = 1;
    } else {
      this.singers.checkMouseClicked(mouseX, mouseY); //tarkistetaan, onko klikattu jotakin
    }
  } else if (this.screenInt == 3) {
 	  if (mouseX>width*0.05-width*0.025 && mouseX<width*0.05+width*0.025 
	    && mouseY>width*0.06-width*0.035 && mouseY<width*0.06+width*0.035) {
	     this.screenInt = 1;
	  } else {
      this.orchestra.checkMouseClicked(mouseX, mouseY); //tarkistetaan, onko klikattu jotakin
    }
  }
}

class StartScreen {
  PImage backgr;
  
  int screenInt;
  
  PImage foxes;
  PImage foxes2;
  PImage conductor;
  PImage conductor2;
  boolean foxesOver;
  boolean conductorOver;

  StartScreen(int screenInt){
    this.screenInt = screenInt;
    
	this.backgr = loadImage("stage2.jpg");
    this.foxes = loadImage("tanssi.png");
    this.foxes2 = loadImage("tanssi2.png");
    this.conductor = loadImage("conductor.png");
    this.conductor2 = loadImage("conductor2.png");
    
    this.foxesOver = false;
    this.conductorOver = false;
  }

  void draw(){
	imageMode(CORNER);

	background(backgr);
  
 	imageMode(CENTER);
  
	image(this.foxes, width/2, height/2, width/2, height/2);
  image(this.conductor, width/2, (height/4)*3.1, width/4, height/6);
 	 
  }
}

class SingerScreen {
  int screenInt;
 
  Singer activeSinger;
  Singer kortekangas;
  Singer rantala;
  Singer riihimaki;
  Singer heikkila;
  Singer soderlund;
  Singer palo;

  PImage jaakko_kortekangas;
  PImage hanna_rantala;
  PImage juha_riihimaki;
  PImage katariina_heikkila;
  PImage nicholas_soderlund;
  PImage mari_palo;
  PImage back;
  PImage close;

  SingerScreen(int screenInt) {
    this.screenInt = screenInt;

	this.jaakko_kortekangas = loadImage("jaakko_kortekangas.png");
  this.hanna_rantala = loadImage("hanna_rantala.png");
  this.juha_riihimaki = loadImage("juha_riihimaki.png");
  this.katariina_heikkila = loadImage("katariina_heikkila.png");
  this.nicholas_soderlund = loadImage("nicholas_soderlund.png");
  this.mari_palo = loadImage("mari_palo.png");
	this.back = loadImage("left37.png");
  this.close = loadImage("close-circled.png");

	
    
    this.kortekangas = new Singer("Jaakko Kortekangas", "Forester", "At the Finnish National Opera during the season 2014-15: Boris Godunov: Andrei Shchelkalov, clerk of the Douma (Modest Mussorgsky), Die Fledermaus: Dr. Falke (Johann Strauss), The Cunning Little Vixen: Forester (Leoš Janáček), Kullervo: Soloist singer (Tero Saarinen – Jean Sibelius).", "jaakko_kortekangas.png", 1);
	this.rantala = new Singer("Hanna Rantala", "Vixen", "At the Finnish National Opera during the season 2014-15: Le nozze di Figaro: Susanna (W. A. Mozart), Die Fledermaus: Adele (Johann Strauss), The Cunning Little Vixen: Vixen (Leoš Janáček).", "hanna_rantala.png", 2);
    this.riihimaki = new Singer("Juha Riihimäki", "Schoolmaster", "At the Finnish National Opera during the season 2014-15: Aida: Messenger (Giuseppe Verdi), Le nozze di Figaro: Don Curzio (W. A. Mozart), Die Fledermaus: Dr. Blind (Johann Strauss), Die Meistersinger von Nürnberg: Kunz Vogelgesang (Richard Wagner), The Cunning Little Vixen: Schoolmaster (Leoš Janáček).", "juha_riihimaki.png", 0);
    this.heikkila = new Singer("Katariina Heikkilä", "Pásková", "At the Finnish National Opera during the season 2014-15: Christmas Music Tour: Solisti (Finnish National Opera's orchestra and soloists on tour), The Cunning Little Vixen: Mrs. Pásková (Leoš Janáček), The Cunning Little Vixen: Dog (Leoš Janáček).", "katariina_heikkila.png", 0);
    this.soderlund = new Singer("Nicholas Söderlund", "Priest and Badger", "At the Finnish National Opera during the season 2014-15: Le nozze di Figaro: Antonio (W. A. Mozart), Die Fledermaus: Frank (Johann Strauss), Die Meistersinger von Nürnberg: Hans Schwarz (Richard Wagner), The Cunning Little Vixen: Priest (Leoš Janáček), The Cunning Little Vixen: Badger (Leoš Janáček).", "nicholas_soderlund.png", 0);
    this.palo = new Singer("Mari Palo", "Fox", "At the Finnish National Opera during the season 2014-15: Le nozze di Figaro: Countess Almaviva (W. A. Mozart), The Cunning Little Vixen: Fox (Leoš Janáček).", "mari_palo.png", 0);

    this.activeSinger = null;
  }

  void draw(){
	background(50);
    
    textAlign(CENTER);
	textFont(createFont("Littledays"));
    textSize(width*0.045); //skaalaus ikkunan koon mukaan
    fill(240); //vaalea
    text("The Singers", width*0.5, height*0.115);

	imageMode(CENTER);
	
	image(this.jaakko_kortekangas, width*0.2, height*0.36, width*0.23, width*0.23);
	image(this.hanna_rantala, width*0.5, height*0.36, width*0.23, width*0.23);
	image(juha_riihimaki, width*0.8, height*0.36, width*0.23, width*0.23);
	image(this.katariina_heikkila, width*0.2, height*0.77, width*0.23, width*0.23);
	image(this.nicholas_soderlund, width*0.5, height*0.77, width*0.23, width*0.23);
	image(this.mari_palo, width*0.8, height*0.77, width*0.23, width*0.23);

	image(this.back, width*0.05, height*0.06, width*0.05, height*0.07);

      

  drawBox();

  }

  void drawBox() {

    if (this.activeSinger != null) {

      fill(50,248);
      stroke(20);
      strokeWeight(3);

      rectMode(CENTER);
      rect(width*0.5, height*0.5, width*0.5, width*0.5, width*0.03);

      textAlign(CENTER);
      //textFont(this.font);
      textSize(width*0.03); //skaalaus ikkunan koon mukaan
      fill(240); //vaalea
      text(this.activeSinger.name, width*0.57, height*0.28);
      textSize(width*0.025);
      text(this.activeSinger.character, width*0.57, height*0.33);
      
      //textFont(this.font_small);
      textSize(width*0.02);
      text(this.activeSinger.text, width*0.28, height*0.45, width*0.45, height*0.28); 
      
      imageMode(CENTER);
      image(this.activeSinger.image, width*0.34, height*0.29, width*0.15, width*0.15); 

      image(this.close, width*0.725, height*0.2, width*0.04, width*0.04);
    }

  }

  void checkMouseClicked(int mouseXpos, int mouseYpos) {

    //tarkistus, klikattiinko juuri asken jotakin laulajaa (ei infoboksia auki)
    //-> asetetaan tarvittaessa activeSinger
    if (this.activeSinger == null) {
      if (mouseXpos > (width*0.2-width*0.115) && mouseXpos < (width*0.2+width*0.115) 
        && mouseYpos > (height*0.36-width*0.115) && mouseYpos < (height*0.36+width*0.115)) {
          this.activeSinger = this.kortekangas;
      } else if (mouseXpos > (width*0.5-width*0.115) && mouseXpos < (width*0.5+width*0.115)
        && mouseYpos > (height*0.36-width*0.115) && mouseYpos < (height*0.36+width*0.115)) {
          this.activeSinger = this.rantala;
      } else if (mouseXpos > (width*0.8-width*0.115) && mouseXpos < (width*0.8+width*0.115)
        && mouseYpos > (height*0.36-width*0.115) && mouseYpos < (height*0.36+width*0.115)) {
          this.activeSinger = this.riihimaki;
      } else if (mouseXpos > (width*0.2-width*0.115) && mouseXpos < (width*0.2+width*0.115)
        && mouseYpos > (height*0.77-width*0.115) && mouseYpos < (height*0.77+width*0.115)) {
          this.activeSinger = this.heikkila;
      } else if (mouseXpos > (width*0.5-width*0.115) && mouseXpos < (width*0.5+width*0.115)
        && mouseYpos > (height*0.77-width*0.115) && mouseYpos < (height*0.77+width*0.115)) {
          this.activeSinger = this.soderlund;
      } else if (mouseXpos > (width*0.8-width*0.115) && mouseXpos < (width*0.8+width*0.115)
        && mouseYpos > (height*0.77-width*0.115) && mouseYpos < (height*0.77+width*0.115)) {
          this.activeSinger = this.palo;
      }
    } else { //jos infoboksi auki, tarkistetaan, klikataanko jotakin painiketta
      if (mouseXpos>(width*0.725-width*0.02) && mouseXpos<(width*0.725+width*0.02) 
        && mouseYpos>(height*0.2-width*0.02) && mouseYpos<(height*0.2+width*0.02)) {
          this.activeSinger = null; //ylakulman ruksia klikattu, suljetaan infoboksi
      }
    }

  }


}

class Singer {
  
  String name;
  String character;
  String text;
  int videonumber;
  PImage image;
  
  Singer(String name, String character, String text, String imagename, int videonumber) {
    this.name = name;
    this.character = character;
    this.text = text;
    this.videonumber = videonumber;
    this.image = loadImage(imagename);
    
  }
  
}

class OrchestraScreen {
	int screenInt;

	PImage backgr;
	PImage back;
  PImage close;

  Instrument trombone;
  Instrument viola;
  Instrument activeInstrument;

  OrchestraScreen(int screenInt){
  	this.screenInt = screenInt;
  	this.backgr = loadImage("orchestra.jpg");
  	this.back = loadImage("left37.png");
    this.close = loadImage("close-circled.png");

    String descriptionTrb = "The trombone is a brass instrument. Sound is produced when the player’s vibrating lips cause the air column inside the instrument to vibrate. Trombones have a telescoping slide mechanism that varies the length of the instrument to change the pitch. The most frequently encountered trombones are the tenor trombone and bass trombone."; //Wikipedia
    this.trombone = new Instrument("The Trombone", descriptionTrb, "trombone.jpg");
    
    String descriptionVio = "The viola is a bowed string instrument. It is slightly larger than a violin in size and has a lower and deeper sound than a violin. Since the 18th century it has been the middle voice of the violin family, between the violin (which is tuned a perfect fifth above it) and the cello (which is tuned an octave below it)."; //Wikipedia
    this.viola = new Instrument("The Viola", descriptionVio, "viola.jpg");

    this.activeInstrument = null;
    

  }

  void draw() {
  	imageMode(CORNER);

  	background(backgr);

  	textAlign(CENTER);
      textFont(createFont("Littledays"));
      textSize(width*0.045); //skaalaus ikkunan koon mukaan
      fill(0); //musta teksti
      text("The Orchestra", width*0.5, height*0.08);

  	imageMode(CENTER);
  	image(this.back, width*0.05, height*0.06, width*0.05, height*0.07);

    drawBox();
  }

  void drawBox() {
    
    if (this.activeInstrument != null) {
    
      fill(255); //valkoinen
      stroke(40, 150, 190); //sininen
      strokeWeight(3);
      
      //piirretaan boksi
      rectMode(CENTER);
      rect(width*0.5, height*0.5, width*0.5, width*0.5, width*0.03);

      image(this.close, width*0.725, height*0.2, width*0.04, width*0.04);

      //Instrument-olion attribuuteista haetaan sisalto boksiin
      
      imageMode(CENTER);
      //tarkat arvot instrumenttikuvien kuvasuhteen mukaan (510 x 300 px) > 0.255 ja 0.15
      image(this.activeInstrument.image, width*0.5, height*0.35, width*0.255, width*0.15);
     
      //textFont(this.font);
      textSize(width*0.03); //skaalaus ikkunan koon mukaan
      fill(0); //musta
      textAlign(CENTER);
      text(this.activeInstrument.iname, width*0.5, height*0.23);
      //textFont(this.font_small);
      textSize(width*0.019);
      text(this.activeInstrument.itext, width*0.28, height*0.45, width*0.45, height*0.28);
      
    }
  }

  void checkMouseClicked(int mouseXpos, int mouseYpos) {
    if (this.activeInstrument == null) {
      //width*0.45, height*0.12, width*0.17, height*0.2
      if (mouseXpos>(width*0.45) && mouseXpos<(width*0.62) 
        && mouseYpos>(height*0.12) && mouseYpos<(height*0.32)) {
          this.activeInstrument = this.trombone;
      } else if (mouseXpos>(width*0.54-width*0.1) && mouseXpos<(width*0.54+width*0.1) 
        && mouseYpos>(height*0.72-width*0.06) && mouseYpos<(height*0.72+width*0.06)) {
          this.activeInstrument = this.viola;
      }//tahan voi laittaa lisaa instrumentteja

    } else { //jos infoboksi auki, tarkistetaan, klikataanko jotakin painiketta
      if (mouseXpos>(width*0.725-width*0.02) && mouseXpos<(width*0.725+width*0.02) 
        && mouseYpos>(height*0.2-width*0.02) && mouseYpos<(height*0.2+width*0.02)) {
          this.activeInstrument = null; //ylakulman ruksia klikattu, suljetaan infoboksi
      }
    }
  }

}


class Instrument {
  
  String iname;
  String itext;
  PImage image;
  
  Instrument(String iname, String itext, String imagename) {
    this.iname = iname;
    this.itext = itext;
    
    this.image = loadImage(imagename); //koko oltava 510 x 300 px
    
  }

  
}



</script>
<canvas id="processing-canvas"> </canvas>